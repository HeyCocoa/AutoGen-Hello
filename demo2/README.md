# Demo2: 向量检索 + 语义扩展

这是一个“向量检索 + 语义扩展 + 联网搜索”的闭环流程。举个更生活化的例子：你输入“周末亲子露营清单”，系统先在向量库里找相近语义并扩展关键词（比如“露营装备 / 零食清单 / 安全注意事项 / 天气变化”），再去联网搜索补齐最新信息，最后把结果沉淀到 SQLite，并在需要时同步回向量库。这样一来，检索不再只依赖你一次输入的关键词，而是越用越稳：下次你搜“爬山”或“踏青”，就能和之前的关键词向量匹配上，带出更有用的关键词与内容。

## 工作流与设计理由（每点一句）

1. **向量召回阶段**：先用向量库做语义匹配，把“模糊但有价值”的相关内容捞出来，并扩展出更完整的搜索意图。  
2. **联网搜索阶段**：带着扩展后的意图去抓外部信息，避免只在本地知识里兜圈子。  
3. **结果沉淀阶段**：把检索到的结果统一落到 SQLite，方便追溯和后续复用。  
4. **向量回流阶段**：按需同步进向量库，让下一次检索更快、更准，也更懂你的业务语境。  

## SQLite 的双重价值（两种用途）

1. **知识台账**：所有搜索结果、来源与时间都留在 SQLite，后续可以审计、复盘，也能直接复用。  
2. **可训练素材池**：这些数据既能被同步进向量库，也能成为后续策略、报告或自动化任务的“可用素材”。  

## 可扩展方向（当前不足与后续演进）

- **当前形态偏轻量**：现阶段用的是 Chroma + SQLite，适合快速验证流程、跑通闭环，但离“生产级”还有距离。  
- **更正式的形态**：后续可以替换为更稳定的向量库与关系型数据库，补齐权限、监控、版本管理等工程化能力。  
- **长期记忆升级**：引入 Text-to-SQL，让 Agent 有能力基于历史结构化数据做查询与归因；再绑定一个“成功案例向量库”，记录过去哪些策略/搜索路径是有效的。  
- **从“直觉”到“经验”**：让系统越来越依赖成功案例的积累，而不是一次性的模型直觉，结果就会更稳、更像一个真正懂业务的同事。  
